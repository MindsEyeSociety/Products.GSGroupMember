<span xmlns:metal="http://xml.zope.org/namespaces/metal" 
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="view options/view; statusNum view/statusNum; status view/status"
  class="canPost">
  <span tal:condition="python:statusNum == 0">You can post</span>
  <span tal:condition="python:statusNum &amp; 1" class="not-a-member">
    You cannot post because you are not a member of this group.
    <!--unclosed?-->
  </span>
  <span tal:condition="python:statusNum &amp; 2" class="not-logged-in">
    You cannot post because you are not a logged in.
    <a href="#"
      tal:attributes="href view/loginUrl">Login</a> to post to this topic.
    <!-- public?-->
  </span>
  <span tal:condition="python:statusNum &amp; 4" class="no-preferred-email">
    You cannot post because you have no default email address.
    Go to 
    <a href="#"
      tal:attributes="href string:${view/userInfo/url}/email.html">your
        email settings page,</a>
    and set a default email address.
  </span>
  <span tal:condition="python:statusNum &amp; 8" class="not-a-member">
    You cannot post because you are not a member of this group.
    <span tal:condition="view/canJoin">
      <a href="#" tal:attributes="href string:/Scripts/set/subscribe_group?division_id=${view/siteInfo/id}&amp;group_id=${view/groupInfo/id}">Join 
        <span class="group"
          tal:content="view/groupInfo/name">this group</span></a>
      to post.
    </span>
    <span tal:condition="view/canInvite">
      <a href="#"
        tal:attributes="href string:${view/ptnCoach/url}">Contact the 
        participation coach</a>
      to join
      <span class="group"
        tal:content="view/groupInfo/name">this group</span>.
    </span>
  </span>
  <span tal:condition="python:statusNum &amp; 16" class="not-a-posting-member">
    You cannot post because you are not a posting member.
    <a href="#"
      tal:attributes="href string:${view/ptnCoach/url}">Contact the 
      participation coach</a>
    to discuss why you are not a posting member of 
    <span class="group"
      tal:content="view/groupInfo/name">this group</span>.
  </span>
  <span tal:condition="python:statusNum &amp; 32" class="exceeded-posting-rate">
    You cannot post because you have exceeded the posting rate for
    <span class="group"
      tal:content="view/groupInfo/name">this group</span>.
    You can <span tal:replace="structure status"/>.
  </span>
  <span tal:condition="python:statusNum &amp; 64" 
    class="blocked-from-posting">
    You cannot post because you have been blocked from posting.
    <a href="#"
      tal:attributes="href string:${view/ptnCoach/url}">Contact the 
      participation coach</a>
    to discuss why you are blocked from posting to
    <span class="group"
      tal:content="view/groupInfo/name">this group</span>.
  </span>
  <span tal:condition="python:statusNum &amp; 128"
    class="profile-attributes">
    You cannot post because the <span tal:replace="structure status"/> 
    on your profile.
    To post, go to 
    <a href="#"
      tal:attributes="href string:${view/userInfo/url}/edit.html;
        title string:Change the profile of ${view/userInfo/name}">your 
      Change Profile page</a> and set the required profile attributes.
  </span>
</span>

