<html metal:use-macro="context/@@groupserver_layout/page">
  <head>
    <title metal:fill-slot="title">
      <span tal:replace="view/label"/> :
      <span tal:replace="view/siteInfo/get_name">A Site</span>
    </title>
    
  </head>
  <body>
    <div metal:fill-slot="messages" tal:condition="view/status" 
      class="message-error"
      tal:define="e view/errors"
      tal:attributes="class python:e and 'message-error' or 'message-result'">
      <p class="form-status" tal:content="structure view/status"/>
      <dl tal:condition="view/errors">
        <tal:block repeat="widget view/widgets">
          <tal:block tal:condition="widget/error">
            <dt tal:content="widget/label">Widget Name</dt>
            <dd class="error" 
              tal:content="structure widget/error">Error message</dd>
          </tal:block>
        </tal:block>
      </dl>
    </div>
    <tal:block metal:fill-slot="body"
      define="memberManager view/memberManager">
      <h1 tal:content="view/label">
        Manage the Members of 
        <span tal:replace="view/groupInfo/name">this group</span>
      </h1>
      <form enctype="multipart/form-data"  method="post" action="."
        tal:define="allWidgets view/widgets"
        tal:attributes="action request/URL" id="manage-members">
        <p
          tal:define="membersInfo memberManager/membersInfo;
            fullMemberCount membersInfo/fullMemberCount;
            invitedMemberCount membersInfo/invitedMemberCount">
          There 
          <span tal:replace="python:fullMemberCount==1 and 'is 1 member' or 'are %d members' % fullMemberCount"/> 
          &#8212; and
          <span tal:replace="python:invitedMemberCount==1 and '1 invited member' or '%d invited members' % invitedMemberCount"/>
          &#8212; 
          in <span tal:replace="view/groupInfo/name">this group</span>.
        </p>
        <!--tal:block repeat="member memberManager/members">
          <div tal:replace="structure provider:groupserver.MemberStatusActions">
        </tal:block>
        <tal:block repeat="status memberManager/statuses">
          <div tal:define="member status/userInfo">
            <a href="#"
              tal:attributes="href member/url" 
              tal:content="member/name">
              A Member
            </a> &#8212; <span tal:replace="status/status_label"/>
          </div>
        </tal:block-->
        <div class="buttons" tal:condition="view/availableActions">
          <tal:block repeat="action view/actions">
            <div class="formelementbutton">
              <span tal:replace="structure action/render">Button</span>
            </div>
          </tal:block>
        </div>
      </form>
    </tal:block>
  </body>
</html>

